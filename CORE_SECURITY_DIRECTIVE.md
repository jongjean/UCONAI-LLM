# 🚨 UCONAI SYSTEM-WIDE CORE SECURITY & DATA DIRECTIVE

## 1순위 전역 지침 (The Universal Law)

이 문서는 UCONAI의 모든 프로젝트와 서버 보안 및 데이터 관리의 최우선 원칙을 명시한다. 인공지능 어시스턴트는 어떤 프로젝트를 작업하든 이 지침을 가장 먼저 참조하며, 절대로 이를 어겨서는 안 된다.

---

### 1. 배포 폴더의 휘발성 (Volatile Deployment Root: /var/www/*)
*   **대상 경로**: `/var/www/` 하위의 **모든 폴더** (예: /esg, /gonggu, /bona, /dskr 등)
*   **원칙**: `/var/www` 아래의 모든 폴더는 **언제든지 삭제(`rm -rf`)하고 즉시 재배포 가능해야 하는 "휘발성 서비스 노출 창구"**이다.
*   **금지 사항**: 절대 이 경로 하위에 중요 데이터, 보안 데이터, 사용자 업로드 데이터, DB 파일을 독자적으로 보존하지 않는다. 
*   **역할**: 본진(Home Camp)에서 빌드된 소스 코드가 외부로 서비스되는 임시 노출 창구 역할만 수행한다.

### 2. 본진(Home Camp)의 보안성 (Secure Home Location)
*   **위치**: `/home/ucon/esg/` (개발 폴더) 및 `/home/ucon/esg_data/` (데이터 금고)
*   **원칙**: 이곳이 모든 프로젝트의 **심장부이자 본진**이다.
*   **보안**: 관리자 외에는 절대 접근이 불가능하며, 가장 강력한 보안으로 보호되어야 한다.

### 3. 데이터 관리 구조 (Persistent Data Layer)
*   **위치**: `/home/ucon/esg_data/`
*   **구조**: DB 파일(`db/`)과 업로드 파일(`uploads/`)은 오직 이 금고 경로에만 존재한다.
*   **실시간 연동**: 
    1. 관리자가 게시판/포스팅 툴을 통해 로그인하여 데이터를 수정/업로드하면 **즉시 이 금고(home 아래)에 저장**된다.
    2. 배포 폴더(`/var/www/esg`)는 실시간으로 이 금고의 데이터를 **읽기 전용 링크(Symlink)** 등으로 웹사이트에 노출할 뿐이다.

### 4. 사상(Mindset)
*   "배포 폴더가 통째로 날아가도, 10초 안에 다시 배포하면 웹사이트는 100% 원활하게 복구되어야 한다."
*   "데이터는 소스 코드와 분리되어 안전한 금고(home) 안에만 존재하며, 서비스(www)는 그 금고의 창문 역할을 할 뿐이다."

---
**이 지침을 어기는 것은 대형 사고이며, 모든 개발 행위의 근간을 흔드는 오류이다.**
